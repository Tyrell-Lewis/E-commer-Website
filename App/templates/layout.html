<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title%}{%endblock%}</title>

        <!-- <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
        rel="stylesheet"
        /> -->
        <!-- <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        rel="stylesheet"
        /> -->
        <!-- <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"
        /> -->
        <!-- <script
        src="https://kit.fontawesome.com/a076d05399.js"
        crossorigin="anonymous"
        ></script> -->

        
        <!-- put links for css and other libraries here!!! -->
        <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /> -->
        <!-- Leaflet JS -->
        <!-- <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script> -->

        <style>
            body {
                font-family: "Roboto", sans-serif;
                margin: 0;
                padding: 5;
                background-color: #7c90a0;
                transition: margin-left 0.5s;
            }

            a {
                text-decoration: none;
                color: black;
            }

            main {
                padding-top: 100px; /* This offsets the navbar height */
            }

            /* Navbar */
            .navbar {
                background-color: #25283d;
                color: #fffaff;
                display: flex;
                justify-content: left;
                align-items: center;
                padding: 20px;
                position: fixed;
                width: 100%;
                top: 0;
                left: 0;
                width: 100%;
                height: 60px;
                z-index: 10000;
            }

            .leaflet-control-zoom {
            z-index: 500; /* Lower than navbar */
            }
            .navbar-title {
                padding-left: 15px;
                padding-top: 10px;
                color: yellow;
                font-size: 30px;
                font-weight: bold;
                font-family: "Times New Roman", Times, sans-serif;
            }

            .navbar-tabs {
                font-size: 30px;
                font-weight: bold;
                font-family: "Times New Roman", Times, sans-serif;
                padding-left: 50px;
                padding-top: 10px;
                display: flex;
                justify-content: left;
                align-items: left;
                
            }

            .profile-pic img {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                /* margin-top: 50px; */
            }

            .menu-icon {
                font-size: 24px;
                cursor: pointer;
            }

            /* Sidenav Styles */
            .sidenav {
                height: 100%;
                width: 0;
                position: fixed;
                z-index: 10001;
                top: 0;
                left: 0;
                background-color: #111;
                overflow-x: hidden;
                transition: 0.5s;
                padding-top: 60px;
            }

            .sidenav a {
                padding: 8px 8px 8px 32px;
                text-decoration: none;
                font-size: 20px;
                color: #f1f1f1;
                display: block;
                transition: 0.3s;
            }

            .sidenav a:hover {
                color: #f1f1f1;
            }

            .sidenav .closebtn {
                position: absolute;
                top: 0;
                right: 25px;
                font-size: 36px;
                margin-left: 50px;
                cursor: pointer;
            }

            /* Hide scrollbar for Webkit browsers */
            ::-webkit-scrollbar {
                display: none;
            }

            /* Dropdown Menu for Profile */
            .cd__main {
                position: relative;
                min-height: 640px;
            }
            .container {
                position: fixed;
                top: 6%; /* adjust the distance from top */
                left: 93%; /* adjusted to have at the right! */
                margin-right: -50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }

            /* More Button / Dropdown Menu */

            .more-btn,
            .more-menu-btn {
                background: none;
                border: 0 none;
                line-height: normal;
                overflow: visible;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                width: 100%;
                text-align: left;
                outline: none;
                cursor: pointer;
            }

            .more-dot {
                background-color: #aab8c2;
                margin: 0 auto;
                display: inline-block;
                width: 7px;
                height: 7px;
                margin-right: 1px;
                border-radius: 50%;
                transition: background-color 0.3s;
            }

            .more-menu {
                position: absolute;
                top: 100%;
                z-index: 900;
                width: 100px;
                min-width: min-content;
                float: left;
                padding: 10px 0;
                margin-top: 9px;
                background-color: #fff;
                border: 1px solid #ccd8e0;
                border-radius: 4px;
                box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.25);
                opacity: 0;
                transform: translate(0, 15px) scale(0.95);
                transition: transform 0.1s ease-out, opacity 0.1s ease-out;
                pointer-events: none;
            }

            .more-menu-caret {
                position: absolute;
                top: -10px;
                left: 12px;
                width: 18px;
                height: 10px;
                float: left;
                overflow: hidden;
            }

            .more-menu-caret-outer,
            .more-menu-caret-inner {
                position: absolute;
                display: inline-block;
                margin-left: -1px;
                font-size: 0;
                line-height: 1;
            }

            .more-menu-caret-outer {
                border-bottom: 10px solid #c1d0da;
                border-left: 10px solid transparent;
                border-right: 10px solid transparent;
                height: auto;
                left: 0;
                top: 0;
                width: auto;
            }

            .more-menu-caret-inner {
                top: 1px;
                left: 1px;
                border-left: 9px solid transparent;
                border-right: 9px solid transparent;
                border-bottom: 9px solid #fff;
            }

            .more-menu-items {
                margin: 0;
                list-style: none;
                padding: 0;
            }

            .more-menu-item {
                display: block;
            }

            .more-menu-btn {
                min-width: 100%;
                color: #66757f;
                cursor: pointer;
                display: block;
                font-size: 13px;
                line-height: 18px;
                padding: 5px 20px;
                position: relative;
                white-space: nowrap;
            }

            .more-menu-item:hover {
                background-color: #489fe5;
            }

            .more-menu-item:hover .more-menu-btn {
                color: #fff;
            }

            .more-btn:hover .more-dot,
            .show-more-menu .more-dot {
                background-color: #516471;
            }

            .show-more-menu .more-menu {
                opacity: 1;
                transform: translate(0, 0) scale(1);
                pointer-events: auto;
            }

            /*For hamburger Menu*/
            .slide {
                margin-top: 13px;
            }

            .profile-container{
                margin-top: 50px;
                margin-left: auto;
                padding-right: 50px;
                padding-bottom: 50px;
                width:fit-content;
                height: fit-content;
                
            }

            .container {
                position: fixed;
                top: 6%; /* adjust the distance from top */
                left: 93%; /* adjusted to have at the right! */
                margin-right: -50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }

            .burger {
                position: relative;
                width: 40px;
                height: 30px;
                background: transparent;
                cursor: pointer;
                display: block;
                padding-right: 5px;
            }

            .burger input {
                display: none;
            }

            .burger span {
                display: block;
                position: absolute;
                height: 4px;
                width: 100%;
                background: #fffaff;
                border-radius: 9px;
                opacity: 1;
                left: 0;
                transform: rotate(0deg);
                transition: 0.25s ease-in-out;
            }

            .burger span:nth-of-type(1) {
                top: 0px;
                transform-origin: left center;
            }

            .burger span:nth-of-type(2) {
                top: 50%;
                transform: translateY(-50%);
                transform-origin: left center;
            }

            .burger span:nth-of-type(3) {
                top: 100%;
                transform-origin: left center;
                transform: translateY(-100%);
            }
/* 
            @media (orientation: landscape) {
                        .profile-pic img {
                        margin-top: 50px;
                        margin-right: 50px;
                        width: 40px !important;
                        height: 40px !important;
                        border-radius: 50%;
                    }
                } */


            


            /* Put the css rules for tablet screens here!!! */
            @media (max-width: 768px){
                
                .navbar-title {
                padding-left: 15px;
                padding-top: 10px;
                color: blue;
                font-size: 25px !important;
                font-weight: bold;
                font-family: "Times New Roman", Times, sans-serif;
            }

            .navbar-tabs {
                font-size: 30px;
                font-weight: bold;
                font-family: "Times New Roman", Times, sans-serif;
                padding-left: 50px;
                padding-top: 10px;
            }

            .profile-pic img {
                width: 40px !important;
                height: 40px !important;
                border-radius: 50%;
            }

            .profile-container{
                margin-top: 50px !important;
                margin-left: auto;
                padding-right: 60px !important;
                padding-bottom: 50px;
                
            }
                
            }

            /* Put the css rules for phone screens here!!! */
            @media (max-width: 480px){


            .navbar-title {
            padding-left: 15px !important;
            padding-top: 10px !important;
            color: red;
            font-size: 25px !important;
            font-weight: bold;
            font-family: "Times New Roman", Times, sans-serif;
            }

            .navbar-tabs {
            font-size: 30px;
            font-weight: bold;
            font-family: "Times New Roman", Times, sans-serif;
            padding-left: 50px;
            padding-top: 10px;
            }

            .profile-pic img {
                width: 40px !important;
                height: 40px !important;
                border-radius: 50%;
            }

            .profile-container{
                margin-top: 50px !important;
                margin-left: auto;
                padding-right: 30px !important;
                padding-bottom: 50px;
                
            }

            }

        </style>
        {% block style %}{% endblock %}
    </head>

    <body>
        <!-- Sidenav -->
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
            >&times;</a
            >
            <a href="/Home">Home</a>

            
    
        </div>


        <!-- Navbar -->
        <nav class="navbar">
            <!-- From Uiverse.io by Cevorob -->
            <div class="slide">
            <label class="burger" onclick="openNav()" for="burger">
                <input type="checkbox" id="burger" />
                <span></span>
                <span></span>
                <span></span>
            </label>
            </div>
            <!-- <div class="logo">
            <img src="/static/logo.png" alt="Profile" />
            </div> -->
            <div class="navbar-title">{% block page %}{% endblock %}</div>

            <div class="navbar-tabs"> {%block navbar_tabs%} {%endblock%} </div>

            <!-- Profile Options -->
            <div class="profile-container">
                <div class="more">
                    <div class="profile-pic more-btn">
                        {%if current_user.is_authenticated%}
                        <img src="{{current_user.profile_pic}}" alt="Profile">
                        {%else%}
                        <img src=" https://st3.depositphotos.com/4111759/13425/v/600/depositphotos_134255634-stock-illustration-avatar-icon-male-profile-gray.jpg" alt="Profile">
                        {%endif%}
                    </div>
                    
                    <div class="more-menu">
                        <div class="more-menu-caret">
                            <div class="more-menu-caret-outer"></div>
                            <div class="more-menu-caret-inner"></div>
                        </div>
                        {%if current_user.is_authenticated%}
                            <ul class="more-menu-items" tabindex="-1" role="menu" aria-labelledby="more-btn" aria-hidden="true">
                                <li class="more-menu-item" role="presentation">
                                    <a href="/profile" class="more-menu-btn" role="menuitem">Profile</a>
                                </li>

                                <li class="more-menu-item" role="presentation">
                                    <a href="/logout" class="more-menu-btn" role="menuitem">Logout</a>
                                </li>
                            </ul>

                        {%else%}
                            <ul class="more-menu-items" tabindex="-1" role="menu" aria-labelledby="more-btn" aria-hidden="true">
                                <li class="more-menu-item" role="presentation">
                                    <a href="/signup" class="more-menu-btn" role="menuitem">Sign Up</a>
                                </li>
                                <li class="more-menu-item" role="presentation">
                                    <a href="/login" class="more-menu-btn" role="menuitem">Log In</a>
                                </li>
                            </ul>
                        {%endif%}
                    </div>
                </div>
            </div>

            <!-- <div class="test">
                <p>just a test</p>
            </div> -->
        </nav>


        <main>{% block content %}{% endblock %}</main>


        {% with messages = get_flashed_messages(with_categories=true) %} {% if
            messages %}
            <div class="flash-messages">
              {% for category, message in messages %}
              <div class="flash-message {{ category }}">{{ message }}</div>
              {% endfor %}
            </div>
            {% endif %} {% endwith %}

        
        {%block script%} {%endblock%}

        
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var el = document.querySelector(".more");
                var btn = el.querySelector(".more-btn");
                var menu = el.querySelector(".more-menu");
                var visible = false;
        
                function showMenu(e) {
                e.preventDefault();
                if (!visible) {
                    visible = true;
                    el.classList.add("show-more-menu");
                    menu.setAttribute("aria-hidden", false);
                    document.addEventListener("mousedown", hideMenu, false);
                }
                }
        
                function hideMenu(e) {
                if (btn.contains(e.target) || menu.contains(e.target)) {
                    return;
                }
                if (visible) {
                    visible = false;
                    el.classList.remove("show-more-menu");
                    menu.setAttribute("aria-hidden", true);
                    document.removeEventListener("mousedown", hideMenu);
                }
                }
        
                document
                .querySelector(".more-menu a")
                .addEventListener("click", function () {
                    console.log("Profile link clicked! Navigating...");
                    document
                    .querySelector(".more-menu")
                    .classList.remove("show-more-menu");
                    window.location.href = "#";
                });
        
                btn.addEventListener("click", showMenu, false);
        
                function openNav() {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("main-content").style.marginLeft = "250px";
                }
        
                function closeNav() {
                document.getElementById("mySidenav").style.width = "0";
                document.getElementById("main-content").style.marginLeft = "0";
                }
        
                // function filterReviews() {
                // let input, filter, reviews, studentName, i, txtValue;
                // input = document.getElementById("myInput");
                // filter = input.value.toUpperCase();
                // reviews = document
                //     .getElementById("reviewsList")
                //     .getElementsByClassName("review-card");
        
                // for (i = 0; i < reviews.length; i++) {
                //     studentName = reviews[i].querySelector("h4");
        
                //     if (studentName) {
                //     txtValue = studentName.textContent || studentName.innerText;
                //     if (txtValue.toUpperCase().indexOf(filter) > -1) {
                //         reviews[i].style.display = "";
                //     } else {
                //         reviews[i].style.display = "none";
                //     }
                //     }
                // }
                // }
        
                // function searchStudents() {
                // const query = document.getElementById("searchQuery").value;
        
                // fetch(`/searchStudent?query=${query}`)
                //     .then((response) => response.json())
                //     .then((data) => {
                //     const studentList = document.getElementById("student-list");
                //     const noStudentsMsg = document.getElementById("no-students");
        
                //     studentList.innerHTML = "";
        
                //     if (data.students.length > 0) {
                //         noStudentsMsg.style.display = "none";
        
                //         data.students.forEach((student) => {
                //         const card = document.createElement("div");
                //         card.classList.add("student-card");
                //         card.innerHTML = `
                //                         <h3>${student.firstname} ${
                //             student.lastname
                //         }</h3>
                //                         <p><strong>Student ID:</strong> ${
                //                         student.UniId
                //                         }</p>
                //                         <p><strong>Degree:</strong> ${
                //                         student.degree
                //                             ? student.degree
                //                             : "Not assigned"
                //                         }</p>
                //                         <a href="/getStudentProfile/${student.UniId}">
                //                             <button class="profile-button">View Profile</button>
                //                         </a>
                //                     `;
                //         studentList.appendChild(card);
                //         });
                //     } else {
                //         noStudentsMsg.style.display = "block";
                //     }
                //     })
                //     .catch((error) => console.error("Error fetching students:", error));
                // }
        
                // document
                // .getElementById("myInput")
                // .addEventListener("keyup", filterReviews);
            });
        
            function openNav() {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("main-content").style.marginLeft = "250px";
            }
        
            function closeNav() {
                document.getElementById("mySidenav").style.width = "0";
                document.getElementById("main-content").style.marginLeft = "0";
            }
        </script>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
            setTimeout(function () {
                let flashMessages = document.querySelectorAll(".flash-message");
                flashMessages.forEach(function (msg) {
                msg.style.opacity = "0";
                setTimeout(() => (msg.style.display = "none"), 500);
                });
            }, 3000);
            });
        </script>

        

        
    </body>


</html>